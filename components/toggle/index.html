<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Toggle</title>
    <style>
        html, body {
            background-color: red;
        }
        input[type="checkbox"].toggle {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            overflow: hidden;
            /*border: none;*/
            border: 2px solid black;
            background-repeat: no-repeat;
            /* background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3crect width='100%' height='100%' stroke='' fill='rgba(255, 255, 255, 1)'/%3e%3c/svg%3e"); */
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' stroke='' fill='rgba(255, 255, 255, 1)'/%3e%3c/svg%3e");
            
            -webkit-transition: all 300ms ease-in-out;
            transition: all 300ms ease-in-out;
        }

        input[type="checkbox"].toggle, input[type="checkbox"].toggle.md {
            /*max-width: 300px;*/
            max-width: 50px;
            /*width: 100%;*/
            width: 50px;
            min-width: 50px;
            max-height: 25px;
            height: 25px;
            min-height: 25px;
            border-radius: 25px;
            background-size: 25px;
        }
        input[type="checkbox"].toggle.xs {
            /*max-width: 300px;*/
            max-width: 20px;
            /*width: 100%;*/
            width: 20px;
            min-width: 20px;
            max-height: 10px;
            height: 10px;
            min-height: 10px;
            border-radius: 10px;
            background-size: 10px;
        }
        input[type="checkbox"].toggle.sm {
            /*max-width: 300px;*/
            max-width: 40px;
            /*width: 100%;*/
            width: 40px;
            min-width: 40px;
            max-height: 20px;
            height: 20px;
            min-height: 20px;
            border-radius: 10px;
            background-size: 20px;
        }
        input[type="checkbox"].toggle.lg {
            /*max-width: 300px;*/
            max-width: 60px;
            /*width: 100%;*/
            width: 60px;
            min-width: 60px;
            max-height: 30px;
            height: 30px;
            min-height: 30px;
            border-radius: 30px;
            background-size: 30px;
        }
        input[type="checkbox"].toggle.xl {
            /*max-width: 300px;*/
            max-width: 80px;
            /*width: 100%;*/
            width: 80px;
            min-width: 80px;
            max-height: 40px;
            height: 40px;
            min-height: 40px;
            border-radius: 40px;
            background-size: 40px;
        }
        
        input[type="checkbox"].toggle:not(:checked) {
            /* TODO: Checked Side = Left || Right */
            background-position: left center;
            background-color: darkgray;
        }

        input[type="checkbox"].toggle:checked {
            /* TODO: Checked Side = Left || Right */
            background-position: right center;
            background-color: gray;
        }

        input[type="checkbox"].toggle:indeterminate {
            background-position: center center;
            background-color: lightgray;
        }

        input[type="checkbox"].toggle:before {
            content: "";
        }

        @keyframes showUnchecked {
            0% {
                opacity: 0;
                content: "";
            }
            75% {
                opacity: 0;
                content: "";
            }
            100% {
                opacity: 1;
                content: attr(data-label-unchecked);
            }
        }
        input[type="checkbox"].toggle:not(:checked):before {
            content: attr(data-label-unchecked);
            width: 100%;
            height: 100%;
            position: relative;
            right: 4px;
            display: flex;
            justify-content: flex-end;
            align-items: center;

            animation-fill-mode: forwards;
            animation: showUnchecked .5s linear forwards;
        }

        @keyframes showChecked {
            0% {
                opacity: 0;
                content: "";
            }
            75% {
                opacity: 0;
                content: "";
            }
            100% {
                opacity: 1;
                content: attr(data-label-checked);
            }
        }
        input[type="checkbox"].toggle:checked:before {
            content: attr(data-label-checked);
            width: 100%;
            height: 100%;
            position: relative;
            left: 4px;
            display: flex;
            justify-content: flex-start;
            align-items: center;

            animation-fill-mode: forwards;
            animation: showChecked .5s linear forwards;
        }


        @keyframes showIndeterminate {
            0% {
                opacity: 0;
                content: "";
            }
            75% {
                opacity: 0;
                content: "";
            }
            100% {
                opacity: 1;
                content: "";
            }
        }
        input[type="checkbox"].toggle:indeterminate:before {
            content: "";

            animation-fill-mode: forwards;
            animation: showIndeterminate .5s linear forwards;
        }


        input[type="checkbox"].toggle:active {
            /*    */
        }

        input[type="checkbox"].toggle:hover {
            /*    */
        }

        input[type="checkbox"].toggle:focus {
            /*    */
            -webkit-box-shadow: none;
            box-shadow: none;
        }

        input[type="checkbox"].toggle:focus-within {
            /*    */
        }

        input[type="checkbox"].toggle:focus-visible {
            /*    */
        }

        input[type="checkbox"].toggle:visited {
            /*    */
        }

        .toggle-checkbox, .toggle-button, .toggle-radio {
            display: flex;
            align-items: center;
        }
        .toggle-checkbox label {
            /* font-size: xxx-large; */
        }

        input[type="button"].toggle span {
            background-color: white;
            border-radius: 100%;
        }
    </style>
    <!--
    <style>
        input[type="radio"].toggle {
            /*-webkit-appearance: none;*/
            /*-moz-appearance: none;*/
            /*appearance: none;*/

            /*border: none;*/
            /*border: 1px solid black;*/
            /*background-repeat: no-repeat;*/
            /*background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba(255, 255, 255, 1)'/%3e%3c/svg%3e");*/
            transition: 300ms ease-in-out;
        }


        .toggle-radio {
            /*width: 25px;*/
            display: flex;
            align-items: center;
            background-color: black;

            max-width: 150px;
            width: 150px;
            min-width: 150px;
            max-height: 25px;
            height: 25px;
            min-height: 25px;

            border-radius: 12.5px;
        }
        .toggle-radio .selected {
            background-color: gray;

            /*max-width: 150px;*/
            /*width: 150px;*/
            /*min-width: 150px;*/
            /*max-height: 25px;*/
            /*height: 25px;*/
            /*min-height: 25px;*/

            border-radius: 12.5px;
        }
        .toggle-radio .toggle-radio-left {
            margin: 5px;
            padding-left: 5px;
            flex-grow: 1;
        }
        .toggle-radio .toggle-radio-right {
            margin: 5px;
            padding-right: 5px;
            flex-grow: 1;
            text-align: end;
        }
        .toggle-radio label {
            color: white;
            /*font-size: xxx-large;*/
        }
        /*.toggle-wrapper > input[type="radio"].toggle{*/
        /*    background-color: black;*/
        /*}*/
        /*.toggle-wrapper:has(input[type="radio"].toggle) {*/
        /*    background-color: black;*/
        /*}*/
    </style>
    -->
</head>
<body>

<!--<input class="toggle xs" type="checkbox" />-->
<!--<input class="toggle xs" type="checkbox" data-state="indeterminate" />-->
<!--<input class="toggle xs" type="checkbox" data-state="indeterminate" checked />-->
<!--<input class="toggle xs" type="checkbox" checked />-->

<!--<input class="toggle sm" type="checkbox" />-->
<!--<input class="toggle sm" type="checkbox" data-state="indeterminate" />-->
<!--<input class="toggle sm" type="checkbox" data-state="indeterminate" checked />-->
<!--<input class="toggle sm" type="checkbox" checked />-->

<!--<input class="toggle md" type="checkbox" />-->
<!--<input class="toggle" type="checkbox" />-->

<!--<input class="toggle lg" type="checkbox" />-->
<!--<input class="toggle lg" type="checkbox" data-state="indeterminate" />-->
<!--<input class="toggle lg" type="checkbox" data-state="indeterminate" checked />-->
<!--<input class="toggle lg" type="checkbox" checked />-->

<!--<input class="toggle xl" type="checkbox" />-->
<!--<input class="toggle xl" type="checkbox" data-state="indeterminate" />-->
<!--<input class="toggle xl" type="checkbox" data-state="indeterminate" checked />-->
<!--<input class="toggle xl" type="checkbox" checked />-->

<br />
<br />
<br />


<div class="toggle-checkbox" id="toggle-1">
    <!-- TODO: Checked Side = Left || Right -->
    <label for="toggle-1-input" id="toggle-1-label-left"
           onclick="/*event.preventDefault();*/
           setTimeout(() => {
               document.getElementById('toggle-1-input').checked = false;
               document.getElementById('toggle-1-input').indeterminate = false;
               document.getElementById('toggle-1-input').dataset.state = document.getElementById('toggle-1-input').indeterminate ? 'indeterminate' : document.getElementById('toggle-1-input').checked ? 'checked' : 'unchecked';
               }, 0);"
    >Off</label>
    <!-- TODO: Labels inside of toggle - Left && Right -->
    <input class="toggle" type="checkbox" id="toggle-1-input" name="toggle-1-input" value=""
           data-state="" data-label-checked="On" data-label-unchecked="Off" data-label-indeterminate=""
           ondblclick="console.log(`DBL CLICK: ${this.checked}`); this.checked=!this.checked; this.indeterminate = !this.indeterminate;"
           onclick="console.log(`CLICK: ${this.checked}`)"
           onchange="console.log(`CHANGE: ${this.checked}`); setTimeout(() => {this.dataset.state = this.indeterminate ? 'indeterminate' : this.checked ? 'checked' : 'unchecked';}, 0);"
           onload="console.log(`LOAD: ${this.checked}`)"
           oninput="console.log(`INPUT: ${this.checked}`)"
           onfocus="console.log(`FOCUS: ${this.checked}`)"
           onblur="console.log(`BLUR: ${this.checked}`)"
           checked
    >
        <span></span>
    </input>
    <!-- TODO: Checked Side = Left || Right -->
    <label for="toggle-1-input" id="toggle-1-label-right"
           onclick="/*event.preventDefault();*/
           setTimeout(() => {
               document.getElementById('toggle-1-input').checked = true;
               document.getElementById('toggle-1-input').indeterminate = false;
               document.getElementById('toggle-1-input').dataset.state = document.getElementById('toggle-1-input').indeterminate ? 'indeterminate' : document.getElementById('toggle-1-input').checked ? 'checked' : 'unchecked';
               }, 0);"
    >On</label>
</div>

<br />
<br />
<br />

<style>
    [data-action='aria-switch'][aria-checked='true'] {
        background: #42dc42;
    }
    input[type="button"].toggle {
        background: #f4f4f4;
        border-radius: 32px;
        display: inline-block;
        position: relative;
        transition: background 0.1s ease-in-out;
        border: 0;
        width: 75px;
        min-height: 34px;
        overflow: hidden;
        clear: both;
        float: left;
    }

    input[type="button"].toggle span {
        border-radius: 50%;
        display: inline-block;
        font-weight: bold;
        pointer-events: none;
        text-transform: uppercase;
        position: absolute;
    }
    input[type="button"][data-checked="true"] .toggle span {
        background: white;
        border: 1px solid gray;
        border-radius: 50%;
        height: 30px;
        width: 30px;
        top: 2px;
        left: 43px;
        transition: 0.4s;
    }
</style>
<div class="toggle-button">
    <label>Off</label>
    <input class="toggle" type="button" data-checked="false" onclick="this.dataset.checked = this.dataset.checked === 'true' ? 'true' : 'false';">
        <span></span>
    </input>
    <label>On</label>
</div>

<br />
<br />
<br />


<button type="button" data-action="aria-switch" aria-label="Toggle Text" aria-checked="true" role="switch" class="text">
    <span></span>
  </button>


  
<div class="toggle-radio" id="toggle-2">
    <div id="toggle-2-option-1" class="toggle-radio-left selected" onclick="this.classList.add('selected'); document.getElementById('toggle-2-option-2').classList.remove('selected');">
        <label for="toggle-2-input-1">Off</label>
        <input class="toggle" type="radio" id="toggle-2-input-1" name="toggle-2-input" value="Off" />
    </div>
    <div id="toggle-2-option-2" class="toggle-radio-right" onclick="this.classList.add('selected'); document.getElementById('toggle-2-option-1').classList.remove('selected');">
        <input class="toggle" type="radio" id="toggle-2-input-2" name="toggle-2-input" value="On" />
        <label for="toggle-2-input-2">On</label>
    </div>
</div>
<input type="button" onclick="console.table((document.querySelector(`input[type='radio'][name='toggle-2-input']:checked`) || {}).value)" value="Toggle Data" />
<script>
    const uuidV4 = () => {
        return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
        );
    };
    const indeterminateList = document.querySelectorAll(`input[type='checkbox'][data-state='indeterminate'].toggle`);
    console.log(indeterminateList);
    for (const item in indeterminateList) {
        const element = indeterminateList[item];
        element.indeterminate = true;
    }
</script>
</body>
</html>
